(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aab09"],{"11a4":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("CRow",[i("CCol",[i("CAlert",{attrs:{color:"success",show:e.currentAlertCounter,closeButton:""},on:{"update:show":function(t){e.currentAlertCounter=t}}},[e._v(" "+e._s(e.message)+" "),i("CProgress",{attrs:{max:10,value:e.currentAlertCounter,height:"3px",color:"success",animate:""}})],1)],1)],1),i("CRow",{attrs:{col:"12"}},[i("CCol",{attrs:{col:"12"}},[i("CForm",{on:{submit:function(t){return t.preventDefault(),e.getPublicUrl()}}},[i("CRow",[i("CCol",{attrs:{sm:"10",lg:"4"}},[i("CInput",{attrs:{horizontal:"",label:"FileName",required:"",placeholder:"Enter FileName"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1),i("CCol",{attrs:{sm:"10",lg:"4"}},[i("CInputFile",{attrs:{label:"File",required:"",horizontal:"",placeholder:"upload file"},on:{change:function(t){return e.handleFileUpload(t,"upload")}}})],1),i("CCol",{attrs:{sm:"10",lg:"4"}},[i("CButton",{attrs:{type:"submit",disabled:e.disabled,color:"success"}},[e._v("Upload File")])],1)],1)],1)],1),i("CCol",{attrs:{col:"12"}},[e._v(" "+e._s(e.fileUrl)+" ")])],1),i("CRow",[i("CCol",[i("CCard",[[i("CCardBody",[i("CDataTable",{attrs:{items:e.items,fields:e.fields,"column-filter":"","items-per-page":20,hover:"",sorter:"",striped:"",fixed:"",bordered:"",pagination:""},scopedSlots:e._u([{key:"actions",fn:function(t){var l=t.item;return[i("td",{staticClass:"py-2"},[i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.deleteFile(l)}}},[e._v("Delete File")])],1)]}}])})],1)]],2)],1)],1)],1)},r=[],a=i("2df7"),n=i("12f3");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,l)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=[{}],d=[{key:"fileName",_style:"width:40%"},{key:"publicUrl",_style:"width:40%"},{key:"actions",label:"",filter:!1,sorter:!1,_style:"width:20%"}],f={name:"getPublicUrl",mixins:[a["a"],n["a"]],data:function(){return{disabled:!1,filename:"",price:0,fileUrl:"",message:"",currentAlertCounter:0,items:u.map((function(e,t){return o(o({},e),{},{id:t})})),fields:d}},computed:{token:function(){return this.getToken()}},methods:{getPublicUrl:function(){this.disabled=!0;var e={},t={};t.fileName=this.filename;var i="api/internalApi/getPublicUrlForFile";e.data=t,e.token=this.token,this.ajaxCall(i,e,this.callBackFileUpload,this.fields)},callBackFileUpload:function(e){this.currentAlertCounter=10,this.message="File has been uploaded",this.fileUrl=e.data.publicUrl,this.getFileList(),this.alertColor="success",this.disabled=!1},getFileList:function(){var e={},t="api/internalApi/getPublicFileList";e.data={},e.token=this.token,this.ajaxCall(t,e,this.populateList)},populateList:function(e){if(1!=e.error){var t=e.data.fileList;this.items=t.map((function(e,t){return o(o({},e),{},{id:t})})),console.log(this.items)}},deleteFile:function(e){var t={},i="api/internalApi/deletePublicFile";t.data={fileId:e.fileId},t.token=this.token,this.ajaxCall(i,t,this.callBackFileDelete)},callBackFileDelete:function(e){this.currentAlertCounter=10,this.message="File has been deleted",this.fileUrl=e.data.publicUrl,this.getFileList(),this.alertColor="success",this.disabled=!1}},beforeMount:function(){this.getFileList()}},p=f,h=i("2877"),b=Object(h["a"])(p,l,r,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0aab09.f3db56b1.js.map